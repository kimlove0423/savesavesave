<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="css/register.css">
	<title>회원 가입</title>
</head>
<body>
	<div id="container">
				
		<h1>회원 가입</h1>
		<form action="#" id="register">
			<ul id="user-info">
				<li>
					<label for="user-id" class="field">아이디</label>
					<input type="text" id="user-id" placeholder="4~15자리의 영문과 숫자로 입력" required>
				</li>
				<li>
					<label for="user-pw1" class="field">비밀번호</label>
					<input type="password" id="user-pw1" placeholder="8자리 이상" required>
				</li>
				<li>
					<label for="user-pw2" class="field">비밀번호 확인</label>
					<input type="password" id="user-pw2" required>
				</li>
			</ul>
			<ul id="buttons">
				<li>
					<button type="button" class="btn btnBlack" onclick="store()">가입하기</button>					
				</li>
				<li>
					<button type="button" class="btn btnGray" onclick="window.close()">닫기</button>
				</li>
			</ul>
		</form>
	</div>
	<script>
		var idType1 = /^[a-zA-Z0-9+]{0,}$/;
		var idType2 = /^.{4,15}$/;
		var pwType = /^.{8,}$/;
		var inputId;
		var inputPw1;
		var inputPw2;
		function store(){
			inputId = document.getElementById('user-id').value;
			inputPw1 = document.getElementById('user-pw1').value;
			inputPw2 = document.getElementById('user-pw2').value;
			if(inputId == ""){
				alert("아이디를 입력해주세요");
				return;
			}
			if(!idType1.test(inputId)){
				alert("아이디는 영문과 숫자만 사용할 수 있습니다.");
				return;
			}
			if(!idType2.test(inputId)){
				alert("아이디는 4자리에서 15자리 이하만 가능합니다.");
				return;
			}
			if(inputPw1 == ""){
				alert("비밀번호를 입력해주세요");
				return;
			}
			if(!pwType.test(inputPw1)){
				alert("비밀번호는 8자리 이상만 가능합니다."); 
				return;
			}
			if(inputPw2 == ""){
				alert("비밀번호 확인을 입력해주세요");
				return;
			}
			if(inputPw2 != inputPw1){
				alert("비밀번호 확인을 잘못 입력하셨습니다. 다시 입력해주세요.");
				return;
			}
			function fn_save(){
            	if(!window.localStorage){
                	alert("로컬 스토리지를 지원하지 않습니다.");
                	return;
            	}
            localStorage.setItem(inputId , inputPw1);
			alert(inputId+"님 회원가입을 축하합니다");
        	}
			fn_save();
		}
	</script>
</body>
</html>